=== ReadWriteLock

Ідея що стоїть за цим механізмом блокування потоків полягає в тому щоб дозволити одночасне блокування ресурсу на читання потоками коли ресурс незаблокований на запис; i блокувати будь-який доступ до ресурсу крім потоку який заблокував його на запис.

Правила якими керується цей механізм наступні:

. Потік, який хоче заблокувати ресурс на читання, блокує його якщо він незаблокований на запис або коли інший потік очікує на блокування цього ресурсі на запис для себе.
. Потік, який хоче заблокувати ресурс на запис, блокує його якщо ресурс не заблокований ні на запис, ні на читання.


`java.util.concurrent.locks.ReadWriteLock` це інтрефейс.
В java 18 є його реалізація - клас `ReentrantReadWriteLock`.

Приклад використання:

[source,java,linenos]
----
include::ReentrantReadWriteLockExample.java[]
----